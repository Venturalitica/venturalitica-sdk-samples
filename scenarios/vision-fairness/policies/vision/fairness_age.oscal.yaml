catalog:
  uuid: vision-fairness-v1
  metadata:
    title: "Vision Fairness Policy (FairFace)"
    version: "1.0"
    oscal-version: "1.0.0"

  controls:
    - id: vision-fairness-01
      title: "Fairness in Computer Vision"
      
      controls:
        # Age Fairness (Multi-class)
        - id: fairface-age-parity
          title: "Age Demographic Parity"
          description: "Demographic Parity across Age groups must be within 15%"
          props:
            - name: metric_key
              value: multiclass_demographic_parity
            - name: input:dimension
              value: age
            - name: input:aggregation
              value: max
            - name: threshold
              value: "0.15"
            - name: operator
              value: "<"

        - id: fairface-age-precision-parity
          title: "Age Predictive Parity"
          description: "Precision difference between Age groups must be < 15%"
          props:
            - name: metric_key
              value: predictive_parity
            - name: input:dimension
              value: age
            - name: threshold
              value: "0.15"
            - name: operator
              value: "<"

        # Predictive Equality (FPR Parity)
        - id: fairface-gender-predictive-equality
          title: "Gender Predictive Equality"
          description: "False Positive Rate difference between Genders must be < 10%"
          props:
            - name: metric_key
              value: predictive_equality_diff
            - name: input:dimension
              value: gender
            - name: threshold
              value: "0.10"
            - name: operator
              value: "<"

            - name: operator
              value: ">"

        # ----------------------------------------------------------------------
        # PERFORMANCE AND RELIABILITY (PER TASK)
        # ----------------------------------------------------------------------
        
        # --- AGE TASK ---
        - id: perf-age-accuracy
          title: "Age Accuracy"
          description: "Accuracy for Age classification must be > 50%"
          props:
            - name: metric_key
              value: accuracy_score
            - name: threshold
              value: "0.50"
            - name: operator
              value: ">"

        - id: perf-age-precision
          title: "Age Precision (Macro)"
          description: "Macro Precision for Age must be > 50%"
          props:
            - name: metric_key
              value: precision_score
            - name: input:average
              value: macro
            - name: threshold
              value: "0.50"
            - name: operator
              value: ">"

        - id: perf-age-recall
          title: "Age Recall (Macro)"
          description: "Macro Recall for Age must be > 50%"
          props:
            - name: metric_key
              value: recall_score
            - name: input:average
              value: macro
            - name: threshold
              value: "0.50"
            - name: operator
              value: ">"

        - id: perf-age-f1
          title: "Age F1 Score (Macro)"
          description: "Macro F1 Score for Age must be > 50%"
          props:
            - name: metric_key
              value: f1_score
            - name: input:average
              value: macro
            - name: threshold
              value: "0.50"
            - name: operator
              value: ">"
